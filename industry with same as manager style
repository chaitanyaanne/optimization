# Step 1: Add industry constraints to ensure accounts are reassigned within their industry CSMs
for industry, csms in industry_csm_mapping.items():
    # Get indices of CSMs that can handle this industry
    industry_csm_indices = [csm_mapping[csm] for csm in csms if csm in csm_mapping]
    
    for i in range(num_accounts):
        account_industry = df.at[i, 'industry']
        if account_industry == industry:
            # Constraint to ensure account can only be reassigned within this industry's CSMs
            prob += pulp.lpSum(x[i, j] for j in industry_csm_indices) == 1
